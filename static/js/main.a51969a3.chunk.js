(window["webpackJsonpgoit-react-hw-04-movies"]=window["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{13:function(e,t,n){e.exports={movieCard:"style_movieCard__13BM1",movieCardInfo:"style_movieCardInfo__2W1BI"}},14:function(e,t,n){e.exports={searchForm:"style_searchForm__VeWpv"}},15:function(e,t,n){e.exports={header:"style_header__1pUZY"}},36:function(e,t,n){e.exports=n(83)},82:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(26),i=n.n(l),c=n(27),o=n(28),m=n(34),u=n(29),s=n(35),p=n(5),f=n(8),v=n(30),E=n.n(v),h=n(31),d=n.n(h),b=function(e){var t=e.filmsList;return r.a.createElement("section",null,r.a.createElement("ul",null,t.map((function(e){var t=e.title,n=e.id;return r.a.createElement("li",{key:n},r.a.createElement(p.b,{to:"/movies/".concat(n)},t))}))))};b.defaultProps={filmsList:[]};var _=b,y=function(e){var t=e.credits;return r.a.createElement("section",null,r.a.createElement("ul",null,t.map((function(e){var t=e.character,n=e.name,a=e.profile_path;return r.a.createElement("li",null,r.a.createElement("img",{src:"https://image.tmdb.org/t/p/w200"+a,alt:""}),r.a.createElement("p",null,n),r.a.createElement("p",null,"Character: ",t))}))))},g=function(e){var t=e.reviews;return r.a.createElement("section",null,r.a.createElement("ul",null,t.map((function(e){var t=e.author,n=e.content,a=e.id;return r.a.createElement("li",{key:a},r.a.createElement("h3",null,t),r.a.createElement("p",null,n))}))))};g.defaultProps={reviews:[]};var w=g,k=n(13),S=n.n(k),C=function(e){var t=e.movie,n=t.backdrop_path,a=t.title,l=t.vote_average,i=t.overview,c=t.genres,o=n?"https://image.tmdb.org/t/p/w500"+n:"",m=c?c.reduce((function(e,t){return e+t.name+", "}),"").slice(-2):"";return r.a.createElement("div",null,r.a.createElement("section",{className:S.a.movieCard},r.a.createElement("img",{src:o,alt:"MoviePoster"}),r.a.createElement("atricle",{className:S.a.movieCardInfo},r.a.createElement("h2",null,a),r.a.createElement("p",null,"User score: ",l),r.a.createElement("h3",null,"Overview"),r.a.createElement("p",null,i),r.a.createElement("h4",null,"Genres"),r.a.createElement("p",null,m))),r.a.createElement("section",null,r.a.createElement("p",null,"Additional information"),r.a.createElement(p.b,{to:"/movies/cast"},"Cast"),r.a.createElement(p.b,{to:"/movies/reviews"},"Reviews")),r.a.createElement(f.d,null,r.a.createElement(f.b,{path:"/movies/cast",component:y}),r.a.createElement(f.b,{path:"/movies/reviews",component:w})))};C.defaultProps={movie:{}};var O=C,R=n(14),j=n.n(R),L=function(e){var t=e.onSubmit,n=e.inputRef;return r.a.createElement("form",{className:j.a.searchForm,onSubmit:t},r.a.createElement("input",{className:j.a.searchForm__input,ref:n,type:"text",autoComplete:"off",placeholder:"Search images..."}))},F=function(e){var t=e.filmsList,n=e.onSubmit,a=e.inputRef,l=e.movie;return r.a.createElement("div",null,r.a.createElement(L,{onSubmit:n,inputRef:a}),r.a.createElement("ul",null,t.map((function(e){var t=e.title,n=e.id;return r.a.createElement("li",{key:n},r.a.createElement(p.b,{to:"/movies/".concat(n)},t))}))),r.a.createElement(f.b,{path:"/movies/:movie_id",render:function(){return r.a.createElement(O,{movie:l})}}))};F.defaultProps={onSubmit:[]};var x=F,N=n(15),I=n.n(N),P=function(){return r.a.createElement("section",{className:I.a.header},r.a.createElement(p.c,{to:"/",className:I.a.link},"Home"),r.a.createElement(p.c,{to:"/movies"},"Movies"))},M=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,l=new Array(r),i=0;i<r;i++)l[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={spinner:!0,filmsList:[]},n.inputRef=Object(a.createRef)(),n.api_key="399eb4ff66260035740cfbb2ef9e0a30",n.api_url="https://api.themoviedb.org/3",n.fetchFilms=function(e){n.state.spinner||n.setState({spinner:!0}),E.a.get(e).then((function(e){return n.setState({filmsList:e.data.results})})).catch((function(e){return console.log(e)})).finally((function(){return n.setState({spinner:!1})}))},n.onSubmit=function(e){e.preventDefault(),n.fetchFilms("".concat(n.api_url,"/search/movie?api_key=").concat(n.api_key,"&query=").concat(n.inputRef.current.value))},n}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.fetchFilms("".concat(this.api_url,"/trending/movie/week?api_key=").concat(this.api_key))}},{key:"render",value:function(){var e=this,t=this.state,n=t.spinner,a=t.filmsList;return r.a.createElement(p.a,null,r.a.createElement(P,null),n&&r.a.createElement(d.a,null),r.a.createElement(f.d,null,r.a.createElement(f.b,{path:"/",exact:!0,render:function(e){return r.a.createElement(_,Object.assign({},e,{filmsList:a}))}}),r.a.createElement(f.b,{path:"/movies",render:function(t){return r.a.createElement(x,Object.assign({},t,{filmsList:a,onSubmit:e.onSubmit,inputRef:e.inputRef}))}}),r.a.createElement(f.a,{to:"/"})))}}]),t}(a.Component);n(82);i.a.render(r.a.createElement(M,null),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.a51969a3.chunk.js.map